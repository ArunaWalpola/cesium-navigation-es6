import{defined,Ray,Cartesian3,Cartographic,ReferenceFrame,SceneMode}from"cesium";var Utils={},unprojectedScratch=new Cartographic,rayScratch=new Ray;Utils.getCameraFocus=function(e,r,a){var o=e.scene,t=o.camera;if(o.mode!==SceneMode.MORPHING&&(defined(a)||(a=new Cartesian3),defined(e.trackedEntity)?a=e.trackedEntity.position.getValue(e.clock.currentTime,a):(rayScratch.origin=t.positionWC,rayScratch.direction=t.directionWC,a=o.globe.pick(rayScratch,o,a)),defined(a)))return o.mode===SceneMode.SCENE2D||o.mode===SceneMode.COLUMBUS_VIEW?(a=t.worldToCameraCoordinatesPoint(a,a),r&&(a=o.globe.ellipsoid.cartographicToCartesian(o.mapProjection.unproject(a,unprojectedScratch),a))):r||(a=t.worldToCameraCoordinatesPoint(a,a)),a};export default Utils;